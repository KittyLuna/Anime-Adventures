repeat task.wait() until game:IsLoaded()

local player = game:GetService("Players").LocalPlayer
local playergui = player:WaitForChild("PlayerGui")
local roguelikeselect = playergui:WaitForChild("RoguelikeSelect")
roguelikeselect.Enabled = true
roguelikeselect.Enabled = false

local newoptions = {}
local args = {}
cards = {"+ Enemy Shield III",
    "+ Enemy Shield II",
    "+ Enemy Shield I",
    "+ Attack III",
    "+ Attack II",
    "+ Attack I",
    "- Cooldown III",
    "- Cooldown II",
    "+ Enemy Health I",
    "+ Range III",
    "+ Boss Damage III",
    "+ Boss Damage II",
    "+ Enemy Health II",
    "+ Enemy Speed I",
    "+ Enemy Health III", 
    "+ Range II",
    "+ Enemy Speed II",
    "+ Range I",
    "- Cooldown I",
    "+ Boss Damage I",
    "+ Gain 2 Random Effects Tier 3",
    "+ Gain 2 Random Effects Tier 2",
    "+ Gain 2 Random Effects Tier 1",
    "+ Enemy Speed III",
    "+ Yen III",
    "+ Yen II",
}

local wavenum = playergui:WaitForChild("Waves"):WaitForChild("HealthBar"):WaitForChild("WaveNumber")

if wavenum.Text == "0" then
repeat task.wait() until wavenum.Text >= "1"
end

playergui:FindFirstChild("RoguelikeSelect"):GetPropertyChangedSignal("Enabled"):Connect(function()
wait()
local optionframe = playergui.RoguelikeSelect.Main.Main.Items:WaitForChild("OptionFrame")
optionframe.Active = true
optionframe.Active = false
wait(1)
    local options = playergui:WaitForChild("RoguelikeSelect").Main.Main.Items:GetChildren()
    newoptions = {}
    for i,v in pairs(options) do
        if v.Name == "OptionFrame" and v:IsA("Frame") and v:FindFirstChild("bg") then
            table.insert(newoptions,v.bg.Main.Title.TextLabel)
        end
    end

    for i=1,#cards,1 do
        if newoptions[1].Text == cards[i] then
            args = {[1] = "2"}
        elseif newoptions[2].Text == cards[i] then   
            args = {[1] = "1"}
        elseif newoptions[3].Text == cards[i] then   
            args = {[1] = "3"}
        end    
    end   
       game:GetService("ReplicatedStorage").endpoints.client_to_server.select_roguelike_option:InvokeServer(unpack(args))
end)

playergui.RoguelikeSelect.Enabled = true
playergui.RoguelikeSelect.Enabled = false
